<!-- ... head и стили как раньше ... -->
<style>
  /* Добавим стиль для кнопки назад */
  #back-btn {
    margin-top: 20px;
    display: none;
    background: linear-gradient(90deg, #555, #888);
    padding: 10px 22px;
    border: none;
    border-radius: 10px;
    color: white;
    font-size: 16px;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0,0,0,0.4);
  }
</style>
</head>
<body>
  <h2>SOFT AI</h2>

  <form id="login-form">
    <input type="number" id="accountId" placeholder="Введите ваш 1Win ID" required />
    <button type="submit" class="btn">Войти</button>
    <div id="error-msg"></div>
  </form>

  <div id="game-selection" class="game-selection">
    <button class="btn" id="btn-mines">Mines</button>
    <button class="btn" id="btn-lucky">Lucky Jet</button>
  </div>

  <button id="back-btn">← Назад</button> <!-- NEW BACK -->

  <div class="grid" id="grid" style="display:none;"></div>
  <button class="btn" id="btn" onclick="generateStars()" style="display:none;">Получить сигнал</button>
  <div id="info" style="display:none;">Сигнал можно получить только раз в 30 секунд.</div>

  <div id="coming-soon">Скоро запуск софта</div>

  <script>
    const allowedAccountIds = [111111, 222222, 333333];

    const loginForm = document.getElementById('login-form');
    const errorMsg = document.getElementById('error-msg');
    const gameSelection = document.getElementById('game-selection');
    const btnMines = document.getElementById('btn-mines');
    const btnLucky = document.getElementById('btn-lucky');
    const gridEl = document.getElementById('grid');
    const btn = document.getElementById('btn');
    const info = document.getElementById('info');
    const comingSoon = document.getElementById('coming-soon');
    const backBtn = document.getElementById('back-btn'); // NEW BACK

    const total = 25;
    let countdownInterval = null;

    loginForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const enteredId = Number(document.getElementById('accountId').value.trim());

      if (allowedAccountIds.includes(enteredId)) {
        loginForm.style.display = 'none';
        gameSelection.style.display = 'flex';
        errorMsg.textContent = '';
      } else {
        errorMsg.textContent = 'Доступ запрещён: неверный 1Win ID.';
      }
    });

    btnMines.addEventListener('click', () => {
      gameSelection.style.display = 'none';
      backBtn.style.display = 'inline-block'; // NEW BACK
      gridEl.style.display = 'grid';
      btn.style.display = 'inline-block';
      info.style.display = 'block';
      comingSoon.style.display = 'none';
      createGrid();
    });

    btnLucky.addEventListener('click', () => {
      gameSelection.style.display = 'none';
      backBtn.style.display = 'inline-block'; // NEW BACK
      gridEl.style.display = 'none';
      btn.style.display = 'none';
      info.style.display = 'none';
      comingSoon.style.display = 'block';
    });

    backBtn.addEventListener('click', () => { // NEW BACK
      // Останавливаем таймер, если активен
      if (countdownInterval) clearInterval(countdownInterval);
      countdownInterval = null;

      backBtn.style.display = 'none';
      gridEl.style.display = 'none';
      btn.style.display = 'none';
      info.style.display = 'none';
      comingSoon.style.display = 'none';
      gameSelection.style.display = 'flex';
    });

    function createGrid() {
      gridEl.innerHTML = '';
      for (let i = 0; i < total; i++) {
        const div = document.createElement('div');
        div.classList.add('cell');
        div.dataset.i = i;
        const img = document.createElement('img');
        img.src = 'https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/Gold_Star.svg/120px-Gold_Star.svg.png';
        img.alt = '★';
        img.className = 'star-img';
        div.appendChild(img);
        gridEl.appendChild(div);
      }
    }

    function generateStars() {
      btn.disabled = true;
      let timeLeft = 30;
      info.textContent = `Следующий сигнал можно получить через ${timeLeft} секунд.`;

      if (countdownInterval) clearInterval(countdownInterval);
      countdownInterval = setInterval(() => {
        timeLeft--;
        if (timeLeft > 0) {
          info.textContent = `Следующий сигнал можно получить через ${timeLeft} секунд.`;
        } else {
          clearInterval(countdownInterval);
          info.textContent = 'Сигнал можно получить только раз в 30 секунд.';
          btn.disabled = false;
        }
      }, 1000);

      const starCount = Math.floor(Math.random() * 5) + 3;

      const cells = document.querySelectorAll('.cell');
      cells.forEach(c => c.classList.remove('star'));
      const idx = new Set();
      while (idx.size < starCount) {
        idx.add(Math.floor(Math.random() * total));
      }
      idx.forEach((i, order) => {
        const c = cells[i];
        setTimeout(() => c.classList.add('star'), order * 150);
      });
    }
  </script>
</body>
</html>
